---
language: node_js
node_js:
  - "8"

sudo: false
dist: trusty

addons:
  chrome: stable

cache:
  yarn: true

env:
  global:
    # See https://git.io/vdao3 for details.
    - JOBS=1
    - secure: "QAVHP9E2Em9X/h33Z/1y9nWGyxo3q2idgRwqSWomZp9N+FL7vKe40I5mRnEaengkYKM+RcQALxOPMJBS9PNauLxtyFtQQbRDW4JKC1ERhk/ExvdSF8M+ilbM4dBmaGNxwoOVwAnxkD/NnsGsaQARBpXaSCx0df58Uda6HjARYTZOoD9MSVj0tQ3ijbiQ3NsBfRaDSzszaU4RDs4WKPuKzbc6YZwnJU4kzhIfv/UVQbstsU2e6bCyS6dAWIfdUML9IW0qMDNUU5nuPiqE9x11ji5jFh1RG21m2ji5+4fDeKIP9SQtoGS0drANKTCV0z2WOOf1W/jrEF21r6aN40Arow8knozUN2o+k9nwJHT6i6Yf+LrDqZ2/KFQG+UidqyCGODSWkmMI4h5sDQsGtrjgcx/OYc66HcQNWyO9O58+FGA/NtkCy7orWg4gPg6mrszNS5Hs7POmARTI/UwyvLoxNgbtTZtj57c/8c4FHbOOkp50F/CC1FldO2tsxH+WnLriTbfz9XV+vNAYi7eXV9SIZ/ffunQGD9RXkfTYaC2Yl46zCCnx0u1/QfroIucoAf8M9FMu1abDNJRzcIoYB4251LsqoWKWdNFZjCy7Psvo0E5aC1JQo7PXOBaVb+0O5kmDvFEDVtXIG1dXJre/H2uN5YR3H8u6UsPcGUUC+spODk0="
    - secure: "SXfbD/Rm8i2K2tPVUVsYglKf/Ouc6U+I/jsUxKmiCL8b1eAxqE+T6Pj4LCCy6Zxneyk3zWRk6/C/+VYWOMIpI2eZnfcEcpufH8lPwWy4lh4GFbftsNmHWnaLS8LmSpxrTG6q5DyYe4qyabbRsPN4ejRkYV0KC1KTREg8MkH8RmmVAyn21DNNe/GqDwHcp8k1QVXdd7RUca/S6eJBWMTDuoGXkszME2cXTVw2zQ5W1Sj+B6XJ9yKJXAuqg0M0qLyTCWBNrb2Shg8HCdeL3PG7GdPU7TziUws/15qjMlm4iDmHWPSWabWTbHSkRLEBTPqz7NFAwsXDsC2ej/2nSps8KF+wqekVr45PJsw+oKCFNxAx1Xn0KNHXU0e+Xv6hJcCi+N+lFACBBOY87R/koiCgwBqVmPByYc1hFEluLToluIDiRzamegZfYzjfOTp9jhLvxykq8HjMdOC8F9gmFNoIx3qydIAQgmfk+TaVs3q18tWUF5bHU5OMYcTxjzTXkISnG1HVDx89hIgtCNxegNCpEaU1Ob42g3i9LxnrgaOGYDfVcnHpWHKti2ArF1P4ryCpWsOiAsJjEsnnz+9YFU3EucQNRVmp7uedgxYvOBZjttDco8S0qxixM0b0UwqaQ98PKCAYQPmJ3SF2OMwgbylTdmDHEbJ4Bz4BVvbHjSvA600="

before_install:
  - curl -o- -L https://yarnpkg.com/install.sh | bash
  - export PATH=$HOME/.yarn/bin:$PATH

install:
  - yarn install --non-interactive

script:
  - yarn lint:js
  - yarn test

deploy:
  provider: script
  script: ember deploy production --activate --verbose
  skip_cleanup: true
  on:
    branch: master
